<mat-card-content class="card-magnum-content">
  <div class="card-magnum-content__wrapper">
    <mat-card class="card-magnum-content__item-wrapper">
      <mat-card-title> Movimientos entre depositos</mat-card-title>
      <mat-card-subtitle>	</mat-card-subtitle>
      <div class="card-magnum-content__headings">
  <div class="container">

  <form class="form-wrap mt-2">
    <mat-form-field appearance="fill">
      <mat-label>Fecha desde</mat-label>
      <input
        matInput
        [matDatepicker]="desde"
        [formControl]="fechaDesdeFormControl"
      />
      <mat-datepicker-toggle matSuffix [for]="desde"></mat-datepicker-toggle>
      <mat-datepicker #desde></mat-datepicker>
      <div
        class="clear-option"
        clear-option
        mat-button
        *ngIf="fechaDesdeFormControl.value"
        matSuffix
        mat-icon-button
        aria-label="Clear"
        (click)="fechaDesdeFormControl.setValue('')"
      >
        <mat-icon>close</mat-icon>
      </div>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Fecha hasta</mat-label>
      <input
        matInput
        [matDatepicker]="hasta"
        [formControl]="fechaHastaFormControl"
      />
      <mat-datepicker-toggle matSuffix [for]="hasta"></mat-datepicker-toggle>
      <mat-datepicker #hasta></mat-datepicker>
      <div
        class="clear-option"
        clear-option
        mat-button
        *ngIf="fechaHastaFormControl.value"
        matSuffix
        mat-icon-button
        aria-label="Clear"
        (click)="fechaHastaFormControl.setValue('')"
      >
        <mat-icon>close</mat-icon>
      </div>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Descripcion</mat-label>
      <input matInput type="text" [formControl]="descripcionFormControl" />
      <div
        class="clear-option"
        clear-option
        mat-button
        *ngIf="descripcionFormControl.value"
        matSuffix
        mat-icon-button
        aria-label="Clear"
        (click)="descripcionFormControl.setValue('')"
      >
        <mat-icon>close</mat-icon>
      </div>
    </mat-form-field>

    <div class="button-wrap">
      <button (click)="this.buscar()" mat-raised-button color="primary">
        <span>Buscar</span>
      </button>
      <button
        (click)="this.nuevo_Click()"
        mat-raised-button
        color="primary"
        class="ml-1"
      >
        <span>Nuevo</span>
      </button>
    </div>
  </form>
  <h1 *ngIf="notFoundData" class="text-center">
    No se encontraron movimientos con los filtros establecidos
  </h1>
  <table
    mat-table
    [dataSource]="dataSource"
    class="mat-elevation-z8"
    multiTemplateDataRows
  >
    <ng-container matColumnDef="fecha">
      <th mat-header-cell *matHeaderCellDef>Fecha</th>
      <td mat-cell *matCellDef="let element">
        {{ element.Fecha | date: "dd/MM/yyyy" }}
      </td>
    </ng-container>

    <ng-container matColumnDef="numero">
      <th class="text-right" mat-header-cell *matHeaderCellDef>Numero</th>
      <td class="text-right" mat-cell *matCellDef="let element">
        {{ element.Id }}
      </td>
    </ng-container>

    <ng-container matColumnDef="detalle">
      <th class="table-padding-left" mat-header-cell *matHeaderCellDef>
        Detalle
      </th>
      <td class="table-padding-left" mat-cell *matCellDef="let element">
        {{ element.Detalle }}
      </td>
    </ng-container>

    <ng-container matColumnDef="depOrigen">
      <th class="text-right" mat-header-cell *matHeaderCellDef>Depo.origen</th>
      <td class="text-right" mat-cell *matCellDef="let element">
        {{ element.DepositoOrigen }}
      </td>
    </ng-container>

    <ng-container matColumnDef="depDestino">
      <th class="text-right" mat-header-cell *matHeaderCellDef>Depo.destino</th>
      <td class="text-right" mat-cell *matCellDef="let element">
        {{ element.DepositoDestino }}
      </td>
    </ng-container>

    <ng-container matColumnDef="estado">
      <th class="text-right" mat-header-cell *matHeaderCellDef>Estado</th>
      <td class="text-right" mat-cell *matCellDef="let element">
        {{ element.Estado }}
      </td>
    </ng-container>

    <ng-container matColumnDef="usuario">
      <th class="table-padding-left" mat-header-cell *matHeaderCellDef>
        Usuario
      </th>
      <td class="table-padding-left" mat-cell *matCellDef="let element">
        {{ element.Usuario }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columnasTabla"></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: columnasTabla"
      [class.options-expanded-row]="expandedElement === row"
      (click)="expandedElement = expandedElement === row ? null : row"
    ></tr>

    <ng-container matColumnDef="expandedDetail">
      <td
        mat-cell
        *matCellDef="let element"
        [attr.colspan]="columnasTabla.length"
      >
        <div
          class="options-detail"
          [@detailExpand]="
            element == expandedElement ? 'expanded' : 'collapsed'
          "
        >
          <div class="options-wrap">
            <button
              (click)="this.eliminar_Click(element.Id)"
              class="ml-1"
              mat-raised-button
              color="primary"
            >
              <span>Eliminar</span>
            </button>

            <button
              (click)="this.modificar_Click(element.Id)"
              class="ml-1"
              mat-raised-button
              color="primary"
            >
              <span>Modificar</span>
            </button>

            <button
              (click)="this.imprimir(element)"
              class="ml-1"
              mat-raised-button
              color="primary"
            >
              <span>Imprimir</span>
            </button>
          </div>
        </div>
      </td>
    </ng-container>
    <tr
      mat-row
      *matRowDef="let row; columns: ['expandedDetail']"
      class="options-detail-row"
    ></tr>
  </table>
</div>

   </div>
    </mat-card>
  </div>
</mat-card-content>

<app-footer></app-footer>
<app-global-spinner></app-global-spinner>
<app-global-snackbar></app-global-snackbar>

